<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://croissant.github.io/it-certs/images/favicon.png" />
<title>Libvirt Virtual Machine Management 用語とユーティリティ | it-certs</title>
<meta name="title" content="Libvirt Virtual Machine Management 用語とユーティリティ" />
<meta name="description" content="libvirtd 概要 libvirtdは、libvirtデーモンのプロセスです。このデーモンは、libvirtのAPIリクエストを受け取り、ハイパーバイザーと通信する役割を担います。libvirtdは、仮想マシンの作成、削除、管理、監視など、様々な操作を実行します。
主要機能 APIリクエストの受け付け: クライアントからのAPIリクエストを受け取り、適切な処理を行います。 ハイパーバイザーとの通信: Xen、QEMU/KVM、VMwareなどのハイパーバイザーと通信して仮想マシンの操作を実行します。 イベント管理: 仮想マシンのイベント（起動、停止、スナップショット作成など）を管理します。 起動と管理 libvirtdは通常、システムの起動時に自動的に開始されます。手動で管理することも可能です。
# libvirtdの起動 sudo systemctl start libvirtd # libvirtdの停止 sudo systemctl stop libvirtd # libvirtdのステータス確認 sudo systemctl status libvirtd /etc/libvirt/ 概要 /etc/libvirt/ディレクトリは、libvirtの設定ファイルや構成ファイルが保存されている場所です。このディレクトリ内には、仮想マシン、ネットワーク、ストレージなどに関する設定ファイルが含まれています。
主要ファイルとディレクトリ qemu/: QEMU/KVM仮想マシンに関する設定ファイルが含まれるディレクトリ。 xen/: Xen仮想マシンに関する設定ファイルが含まれるディレクトリ。 network/: 仮想ネットワークの設定ファイルが含まれるディレクトリ。 storage/: ストレージプールとボリュームの設定ファイルが含まれるディレクトリ。 libvirtd.conf: libvirtdデーモンの設定ファイル。 例: libvirtd.confの一部 # UNIXドメインソケットのパーミッション設定 unix_sock_group = &#34;libvirt&#34; unix_sock_ro_perms = &#34;0777&#34; unix_sock_rw_perms = &#34;0770&#34; virsh 概要 virshは、libvirt APIを操作するためのコマンドラインインターフェース（CLI）ツールです。virshを使用すると、仮想マシンの管理、ネットワークの設定、ストレージの管理などを行うことができます。
主要サブコマンド connect: 仮想化ホストに接続します。 virsh connect qemu:///system # QEMU/KVMシステムインスタンスに接続 list: 現在動作中の仮想マシンのリストを表示します。 virsh list # 動作中の仮想マシンを表示 virsh list --all # すべての仮想マシンを表示（停止中も含む） start: 仮想マシンを起動します。 virsh start &lt;domain&gt; shutdown: 仮想マシンをシャットダウンします。 virsh shutdown &lt;domain&gt; destroy: 仮想マシンを強制終了します。 virsh destroy &lt;domain&gt; create: XML設定ファイルを使って仮想マシンを作成します。 virsh create /path/to/domain." />
<meta name="author" content="" />
<meta name="keywords" content="" />






  





  













<meta property="og:title" content="Libvirt Virtual Machine Management 用語とユーティリティ" />
<meta property="og:description" content="libvirtd 概要 libvirtdは、libvirtデーモンのプロセスです。このデーモンは、libvirtのAPIリクエストを受け取り、ハイパーバイザーと通信する役割を担います。libvirtdは、仮想マシンの作成、削除、管理、監視など、様々な操作を実行します。
主要機能 APIリクエストの受け付け: クライアントからのAPIリクエストを受け取り、適切な処理を行います。 ハイパーバイザーとの通信: Xen、QEMU/KVM、VMwareなどのハイパーバイザーと通信して仮想マシンの操作を実行します。 イベント管理: 仮想マシンのイベント（起動、停止、スナップショット作成など）を管理します。 起動と管理 libvirtdは通常、システムの起動時に自動的に開始されます。手動で管理することも可能です。
# libvirtdの起動 sudo systemctl start libvirtd # libvirtdの停止 sudo systemctl stop libvirtd # libvirtdのステータス確認 sudo systemctl status libvirtd /etc/libvirt/ 概要 /etc/libvirt/ディレクトリは、libvirtの設定ファイルや構成ファイルが保存されている場所です。このディレクトリ内には、仮想マシン、ネットワーク、ストレージなどに関する設定ファイルが含まれています。
主要ファイルとディレクトリ qemu/: QEMU/KVM仮想マシンに関する設定ファイルが含まれるディレクトリ。 xen/: Xen仮想マシンに関する設定ファイルが含まれるディレクトリ。 network/: 仮想ネットワークの設定ファイルが含まれるディレクトリ。 storage/: ストレージプールとボリュームの設定ファイルが含まれるディレクトリ。 libvirtd.conf: libvirtdデーモンの設定ファイル。 例: libvirtd.confの一部 # UNIXドメインソケットのパーミッション設定 unix_sock_group = &#34;libvirt&#34; unix_sock_ro_perms = &#34;0777&#34; unix_sock_rw_perms = &#34;0770&#34; virsh 概要 virshは、libvirt APIを操作するためのコマンドラインインターフェース（CLI）ツールです。virshを使用すると、仮想マシンの管理、ネットワークの設定、ストレージの管理などを行うことができます。
主要サブコマンド connect: 仮想化ホストに接続します。 virsh connect qemu:///system # QEMU/KVMシステムインスタンスに接続 list: 現在動作中の仮想マシンのリストを表示します。 virsh list # 動作中の仮想マシンを表示 virsh list --all # すべての仮想マシンを表示（停止中も含む） start: 仮想マシンを起動します。 virsh start &lt;domain&gt; shutdown: 仮想マシンをシャットダウンします。 virsh shutdown &lt;domain&gt; destroy: 仮想マシンを強制終了します。 virsh destroy &lt;domain&gt; create: XML設定ファイルを使って仮想マシンを作成します。 virsh create /path/to/domain." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://croissant.github.io/it-certs/lpic3/8/" />

<meta property="og:image" content="https://croissant.github.io/it-certs/images/social_card_bg_hu24b6b25ef60ca259d3d1b88ebbfdfb28_6698_577bdd01d07a8180383a3fa4c89d27fc.webp"/><meta property="article:section" content="lpic3" />
<meta property="article:published_time" content="2024-07-18T18:17:58+09:00" />
<meta property="article:modified_time" content="2024-07-18T18:17:58+09:00" /><meta property="og:site_name" content="Bear Cub" />
<meta property="fb:admins" content="0000000000" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://croissant.github.io/it-certs/images/social_card_bg_hu24b6b25ef60ca259d3d1b88ebbfdfb28_6698_577bdd01d07a8180383a3fa4c89d27fc.webp"/>
<meta name="twitter:title" content="Libvirt Virtual Machine Management 用語とユーティリティ"/>
<meta name="twitter:description" content="libvirtd 概要 libvirtdは、libvirtデーモンのプロセスです。このデーモンは、libvirtのAPIリクエストを受け取り、ハイパーバイザーと通信する役割を担います。libvirtdは、仮想マシンの作成、削除、管理、監視など、様々な操作を実行します。
主要機能 APIリクエストの受け付け: クライアントからのAPIリクエストを受け取り、適切な処理を行います。 ハイパーバイザーとの通信: Xen、QEMU/KVM、VMwareなどのハイパーバイザーと通信して仮想マシンの操作を実行します。 イベント管理: 仮想マシンのイベント（起動、停止、スナップショット作成など）を管理します。 起動と管理 libvirtdは通常、システムの起動時に自動的に開始されます。手動で管理することも可能です。
# libvirtdの起動 sudo systemctl start libvirtd # libvirtdの停止 sudo systemctl stop libvirtd # libvirtdのステータス確認 sudo systemctl status libvirtd /etc/libvirt/ 概要 /etc/libvirt/ディレクトリは、libvirtの設定ファイルや構成ファイルが保存されている場所です。このディレクトリ内には、仮想マシン、ネットワーク、ストレージなどに関する設定ファイルが含まれています。
主要ファイルとディレクトリ qemu/: QEMU/KVM仮想マシンに関する設定ファイルが含まれるディレクトリ。 xen/: Xen仮想マシンに関する設定ファイルが含まれるディレクトリ。 network/: 仮想ネットワークの設定ファイルが含まれるディレクトリ。 storage/: ストレージプールとボリュームの設定ファイルが含まれるディレクトリ。 libvirtd.conf: libvirtdデーモンの設定ファイル。 例: libvirtd.confの一部 # UNIXドメインソケットのパーミッション設定 unix_sock_group = &#34;libvirt&#34; unix_sock_ro_perms = &#34;0777&#34; unix_sock_rw_perms = &#34;0770&#34; virsh 概要 virshは、libvirt APIを操作するためのコマンドラインインターフェース（CLI）ツールです。virshを使用すると、仮想マシンの管理、ネットワークの設定、ストレージの管理などを行うことができます。
主要サブコマンド connect: 仮想化ホストに接続します。 virsh connect qemu:///system # QEMU/KVMシステムインスタンスに接続 list: 現在動作中の仮想マシンのリストを表示します。 virsh list # 動作中の仮想マシンを表示 virsh list --all # すべての仮想マシンを表示（停止中も含む） start: 仮想マシンを起動します。 virsh start &lt;domain&gt; shutdown: 仮想マシンをシャットダウンします。 virsh shutdown &lt;domain&gt; destroy: 仮想マシンを強制終了します。 virsh destroy &lt;domain&gt; create: XML設定ファイルを使って仮想マシンを作成します。 virsh create /path/to/domain."/>
<meta name="twitter:site" content="@example"/>



<meta itemprop="name" content="Libvirt Virtual Machine Management 用語とユーティリティ">
<meta itemprop="description" content="libvirtd 概要 libvirtdは、libvirtデーモンのプロセスです。このデーモンは、libvirtのAPIリクエストを受け取り、ハイパーバイザーと通信する役割を担います。libvirtdは、仮想マシンの作成、削除、管理、監視など、様々な操作を実行します。
主要機能 APIリクエストの受け付け: クライアントからのAPIリクエストを受け取り、適切な処理を行います。 ハイパーバイザーとの通信: Xen、QEMU/KVM、VMwareなどのハイパーバイザーと通信して仮想マシンの操作を実行します。 イベント管理: 仮想マシンのイベント（起動、停止、スナップショット作成など）を管理します。 起動と管理 libvirtdは通常、システムの起動時に自動的に開始されます。手動で管理することも可能です。
# libvirtdの起動 sudo systemctl start libvirtd # libvirtdの停止 sudo systemctl stop libvirtd # libvirtdのステータス確認 sudo systemctl status libvirtd /etc/libvirt/ 概要 /etc/libvirt/ディレクトリは、libvirtの設定ファイルや構成ファイルが保存されている場所です。このディレクトリ内には、仮想マシン、ネットワーク、ストレージなどに関する設定ファイルが含まれています。
主要ファイルとディレクトリ qemu/: QEMU/KVM仮想マシンに関する設定ファイルが含まれるディレクトリ。 xen/: Xen仮想マシンに関する設定ファイルが含まれるディレクトリ。 network/: 仮想ネットワークの設定ファイルが含まれるディレクトリ。 storage/: ストレージプールとボリュームの設定ファイルが含まれるディレクトリ。 libvirtd.conf: libvirtdデーモンの設定ファイル。 例: libvirtd.confの一部 # UNIXドメインソケットのパーミッション設定 unix_sock_group = &#34;libvirt&#34; unix_sock_ro_perms = &#34;0777&#34; unix_sock_rw_perms = &#34;0770&#34; virsh 概要 virshは、libvirt APIを操作するためのコマンドラインインターフェース（CLI）ツールです。virshを使用すると、仮想マシンの管理、ネットワークの設定、ストレージの管理などを行うことができます。
主要サブコマンド connect: 仮想化ホストに接続します。 virsh connect qemu:///system # QEMU/KVMシステムインスタンスに接続 list: 現在動作中の仮想マシンのリストを表示します。 virsh list # 動作中の仮想マシンを表示 virsh list --all # すべての仮想マシンを表示（停止中も含む） start: 仮想マシンを起動します。 virsh start &lt;domain&gt; shutdown: 仮想マシンをシャットダウンします。 virsh shutdown &lt;domain&gt; destroy: 仮想マシンを強制終了します。 virsh destroy &lt;domain&gt; create: XML設定ファイルを使って仮想マシンを作成します。 virsh create /path/to/domain."><meta itemprop="datePublished" content="2024-07-18T18:17:58+09:00" />
<meta itemprop="dateModified" content="2024-07-18T18:17:58+09:00" />
<meta itemprop="wordCount" content="149">

<meta itemprop="image" content="https://croissant.github.io/it-certs/images/social_card_bg_hu24b6b25ef60ca259d3d1b88ebbfdfb28_6698_577bdd01d07a8180383a3fa4c89d27fc.webp"/>


<meta itemprop="keywords" content="" />

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/it-certs/original.min.css" rel="stylesheet">

  
    
    <link href="/it-certs/syntax.min.css" rel="stylesheet">
  

  

  
</head>

<body>
  <header><a class="skip-link" href="#main-content">Skip to main content</a>

<a href="/it-certs/" class="title"><h1>it-certs</h1></a>
<nav>
  <a href="/it-certs/">Home</a>

  <a href="/it-certs/lpic3/">LPIC3</a>








</nav>
</header>
  <main id="main-content">

<h1>Libvirt Virtual Machine Management 用語とユーティリティ</h1>
<p class="byline">
  
</p>

<content>
  <h3 id="libvirtd">libvirtd</h3>
<h4 id="概要">概要</h4>
<p><code>libvirtd</code>は、libvirtデーモンのプロセスです。このデーモンは、libvirtのAPIリクエストを受け取り、ハイパーバイザーと通信する役割を担います。libvirtdは、仮想マシンの作成、削除、管理、監視など、様々な操作を実行します。</p>
<h4 id="主要機能">主要機能</h4>
<ul>
<li><strong>APIリクエストの受け付け</strong>: クライアントからのAPIリクエストを受け取り、適切な処理を行います。</li>
<li><strong>ハイパーバイザーとの通信</strong>: Xen、QEMU/KVM、VMwareなどのハイパーバイザーと通信して仮想マシンの操作を実行します。</li>
<li><strong>イベント管理</strong>: 仮想マシンのイベント（起動、停止、スナップショット作成など）を管理します。</li>
</ul>
<h4 id="起動と管理">起動と管理</h4>
<p><code>libvirtd</code>は通常、システムの起動時に自動的に開始されます。手動で管理することも可能です。</p>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># libvirtdの起動</span>
</span></span><span class="line"><span class="cl">sudo systemctl start libvirtd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># libvirtdの停止</span>
</span></span><span class="line"><span class="cl">sudo systemctl stop libvirtd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># libvirtdのステータス確認</span>
</span></span><span class="line"><span class="cl">sudo systemctl status libvirtd</span></span></code></pre></div>
<h3 id="etclibvirt">/etc/libvirt/</h3>
<h4 id="概要-1">概要</h4>
<p><code>/etc/libvirt/</code>ディレクトリは、libvirtの設定ファイルや構成ファイルが保存されている場所です。このディレクトリ内には、仮想マシン、ネットワーク、ストレージなどに関する設定ファイルが含まれています。</p>
<h4 id="主要ファイルとディレクトリ">主要ファイルとディレクトリ</h4>
<ul>
<li><strong>qemu/</strong>: QEMU/KVM仮想マシンに関する設定ファイルが含まれるディレクトリ。</li>
<li><strong>xen/</strong>: Xen仮想マシンに関する設定ファイルが含まれるディレクトリ。</li>
<li><strong>network/</strong>: 仮想ネットワークの設定ファイルが含まれるディレクトリ。</li>
<li><strong>storage/</strong>: ストレージプールとボリュームの設定ファイルが含まれるディレクトリ。</li>
<li><strong>libvirtd.conf</strong>: libvirtdデーモンの設定ファイル。</li>
</ul>
<h4 id="例-libvirtdconfの一部">例: libvirtd.confの一部</h4>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># UNIXドメインソケットのパーミッション設定</span>
</span></span><span class="line"><span class="cl"><span class="na">unix_sock_group</span> <span class="o">=</span> <span class="s">&#34;libvirt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">unix_sock_ro_perms</span> <span class="o">=</span> <span class="s">&#34;0777&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">unix_sock_rw_perms</span> <span class="o">=</span> <span class="s">&#34;0770&#34;</span></span></span></code></pre></div>
<h3 id="virsh">virsh</h3>
<h4 id="概要-2">概要</h4>
<p><code>virsh</code>は、libvirt APIを操作するためのコマンドラインインターフェース（CLI）ツールです。<code>virsh</code>を使用すると、仮想マシンの管理、ネットワークの設定、ストレージの管理などを行うことができます。</p>
<h4 id="主要サブコマンド">主要サブコマンド</h4>
<ul>
<li><strong>connect</strong>: 仮想化ホストに接続します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh connect qemu:///system  <span class="c1"># QEMU/KVMシステムインスタンスに接続</span></span></span></code></pre></div>
<ul>
<li><strong>list</strong>: 現在動作中の仮想マシンのリストを表示します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh list  <span class="c1"># 動作中の仮想マシンを表示</span>
</span></span><span class="line"><span class="cl">virsh list --all  <span class="c1"># すべての仮想マシンを表示（停止中も含む）</span></span></span></code></pre></div>
<ul>
<li><strong>start</strong>: 仮想マシンを起動します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh start &lt;domain&gt;</span></span></code></pre></div>
<ul>
<li><strong>shutdown</strong>: 仮想マシンをシャットダウンします。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh shutdown &lt;domain&gt;</span></span></code></pre></div>
<ul>
<li><strong>destroy</strong>: 仮想マシンを強制終了します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh destroy &lt;domain&gt;</span></span></code></pre></div>
<ul>
<li><strong>create</strong>: XML設定ファイルを使って仮想マシンを作成します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh create /path/to/domain.xml</span></span></code></pre></div>
<ul>
<li><strong>define</strong>: XML設定ファイルを使って仮想マシンを永続的に定義します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh define /path/to/domain.xml</span></span></code></pre></div>
<ul>
<li><strong>undefine</strong>: 仮想マシンを削除します（ディスクイメージは削除されません）。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh undefine &lt;domain&gt;</span></span></code></pre></div>
<ul>
<li><strong>snapshot-create</strong>: スナップショットを作成します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh snapshot-create-as &lt;domain&gt; &lt;snapshot_name&gt;</span></span></code></pre></div>
<ul>
<li><strong>snapshot-list</strong>: スナップショットのリストを表示します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh snapshot-list &lt;domain&gt;</span></span></code></pre></div>
<ul>
<li><strong>snapshot-revert</strong>: スナップショットに復元します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh snapshot-revert &lt;domain&gt; &lt;snapshot_name&gt;</span></span></code></pre></div>
<ul>
<li><strong>pool-list</strong>: ストレージプールのリストを表示します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh pool-list</span></span></code></pre></div>
<ul>
<li><strong>vol-list</strong>: ストレージボリュームのリストを表示します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh vol-list &lt;pool&gt;</span></span></code></pre></div>
<ul>
<li><strong>net-list</strong>: 仮想ネットワークのリストを表示します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh net-list</span></span></code></pre></div>
<ul>
<li><strong>migrate</strong>: 仮想マシンを別のホストに移行します。</li>
</ul>






<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virsh migrate --live &lt;domain&gt; qemu+ssh://&lt;destination_host&gt;/system</span></span></code></pre></div>
<h3 id="まとめ">まとめ</h3>
<p>libvirtとその関連ツールや設定ファイルを理解し、適切に操作することで、仮想化環境を効率的に管理することができます。libvirtdは中心的な役割を果たし、/etc/libvirt/ディレクトリは重要な設定情報を提供し、virshは日常的な管理タスクを実行するための強力なCLIツールです。</p>

</content>
<p>
  
</p>




  </main>
  <footer><small>
  croissant | 
</small></footer>

    
</body>

</html>
